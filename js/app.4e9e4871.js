(function(){"use strict";var e={2306:function(e,t,l){var n=l(5130),o=l(2261),a=l(6768),u=(l(8111),l(3579),l(4232)),r=l(144);const s=["disabled","title"];var c=(0,a.pM)({__name:"VButton",props:{disabled:{type:Boolean,default:!1},title:{default:""}},emits:["click"],setup(e,{emit:t}){const l=e,{disabled:o,title:u}=(0,r.QW)(l),c=t,i=()=>{c("click")};return(e,t)=>((0,a.uX)(),(0,a.CE)("button",{disabled:(0,r.R1)(o),title:(0,r.R1)(u),type:"button",class:"button",onClick:(0,n.D$)(i,["prevent"])},[(0,a.RG)(e.$slots,"default",{},(()=>[t[0]||(t[0]=(0,a.eW)(" Применить "))]))],8,s))}});const i=c;var d=i;const p={xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor"};function v(e,t){return(0,a.uX)(),(0,a.CE)("svg",p,t[0]||(t[0]=[(0,a.Lk)("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"},null,-1)]))}var m=l(1241);const f={},h=(0,m.A)(f,[["render",v]]);var q=h;const w={xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor"};function g(e,t){return(0,a.uX)(),(0,a.CE)("svg",w,t[0]||(t[0]=[(0,a.Lk)("path",{d:"M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"},null,-1)]))}const _={},k=(0,m.A)(_,[["render",g]]);var b=k;l(1148),l(7588);const y={xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor"};function T(e,t){return(0,a.uX)(),(0,a.CE)("svg",y,t[0]||(t[0]=[(0,a.Lk)("path",{d:"M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"},null,-1)]))}const x={},C=(0,m.A)(x,[["render",T]]);var E=C;const V={xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor"};function X(e,t){return(0,a.uX)(),(0,a.CE)("svg",V,t[0]||(t[0]=[(0,a.Lk)("path",{d:"m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"},null,-1)]))}const Z={},L=(0,m.A)(Z,[["render",X]]);var A=L;const W={class:"input-wrapper"},M=["type","placeholder","maxlength"];var O=(0,a.pM)({__name:"VInput",props:(0,a.zz)({type:{default:"text"},placeholder:{default:""},required:{type:Boolean,default:!1},maxlength:{default:100}},{modelValue:{},modelModifiers:{}}),emits:(0,a.zz)(["blur"],["update:modelValue"]),setup(e,{emit:t}){const l=e,{type:o,placeholder:s,required:c,maxlength:i}=(0,r.QW)(l),p=(0,a.fn)(e,"modelValue"),v=t,m=(0,r.KR)(o.value),f=(0,a.EW)((()=>"password"===o.value)),h=(0,a.EW)((()=>"text"===m.value)),q=()=>{h.value?m.value="password":m.value="text"};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",W,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),type:m.value,placeholder:(0,r.R1)(s),autocomplete:"new-password",class:(0,u.C4)(["input",{"input--required":(0,r.R1)(c)}]),maxlength:(0,r.R1)(i),onBlur:t[1]||(t[1]=e=>v("blur"))},null,42,M),[[n.hp,p.value]]),f.value?((0,a.uX)(),(0,a.Wv)(d,{key:0,class:"input__button",onClick:q},{default:(0,a.k6)((()=>[h.value?((0,a.uX)(),(0,a.Wv)(A,{key:0})):((0,a.uX)(),(0,a.Wv)(E,{key:1}))])),_:1})):(0,a.Q3)("",!0)]))}});const B=O;var F=B;const R=["value"];var j=(0,a.pM)({__name:"VSelect",props:(0,a.zz)({options:{default:()=>[]}},{modelValue:{type:[String,Number,Boolean,null]},modelModifiers:{}}),emits:(0,a.zz)(["change"],["update:modelValue"]),setup(e,{emit:t}){const l=e,{options:o}=(0,r.QW)(l),s=t,c=(0,a.fn)(e,"modelValue");return(e,t)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),class:"select",onChange:t[1]||(t[1]=e=>s("change"))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,r.R1)(o),((e,t)=>((0,a.uX)(),(0,a.CE)("option",{key:t,value:e.value,class:"select__option"},(0,u.v_)(e.label),9,R)))),128))],544)),[[n.u1,c.value]])}});const z=j;var K=z;const S={xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor"};function I(e,t){return(0,a.uX)(),(0,a.CE)("svg",S,t[0]||(t[0]=[(0,a.Lk)("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"},null,-1)]))}const Q={},D=(0,m.A)(Q,[["render",I]]);var U=D;l(4114),l(2489),l(116),l(1701),l(8237);const H=(0,o.nY)("commonStore",(()=>{const e=(0,r.KR)([]),t=e=>{const t=e.mark.split(";").filter((e=>!!e.trim())).map((e=>({text:e})))||[];return{id:e.id,type:e.type,login:e.login,password:"local"===e.type?e.password:null,markList:t}},l=l=>{const n=t(l);e.value.push(n),s()},n=t=>{e.value=e.value.filter((e=>e.id!==t)),s()},o=l=>{const n=e.value.find((e=>e.id===l.id)),o=t(l);n&&Object.assign(n,o),s()},u=(0,a.EW)((()=>e.value.map((e=>{const t=e.markList.reduce(((e,{text:t})=>{const l=e?"; ":"";return e+=l+t,e}),""),l={id:e.id,type:e.type,login:e.login,password:e.password||"",mark:t};return l})))),s=()=>{sessionStorage.setItem("accounts",JSON.stringify(e.value))},c=()=>{const t=sessionStorage.getItem("accounts");if(t)try{e.value=JSON.parse(t)}catch(l){console.error("Ошибка парсинга данных из sessionStorage",l)}};return c(),{accountList:e,addAccount:l,deleteAccount:n,updateAccount:o,formattedAccountList:u}})),N={class:"account"};var P=(0,a.pM)({__name:"AccoutItem",props:{mark:{},password:{},id:{},type:{},login:{}},emits:["create-complete","delete-account"],setup(e,{emit:t}){const l=e,{id:n,mark:o,type:s,login:c,password:i}=(0,r.QW)(l),p=t,v=H(),m=[{label:"Локальная",value:"local"},{label:"LDAP",value:"ldap"}],f=(0,r.Kh)({}),h=(0,a.EW)((()=>"local"===q.type)),q=(0,r.Kh)({id:n.value,mark:o.value,type:s.value,login:c.value,password:i.value});(0,a.wB)((()=>q),(e=>{v.updateAccount(e)}),{deep:!0}),(0,a.wB)((()=>i.value),(e=>{q.password=e||""}));const w=()=>{p("delete-account",n.value)},g=()=>{const e=Object.keys(q);e.forEach((e=>_(e)));const t=Object.values(f).every((e=>!e));t&&(v.addAccount(q),p("create-complete"))},_=e=>{switch(e){case"login":f.login=!q.login.trim();break;case"password":f.password=!!h.value&&(!q.password||""===q.password.trim());break}};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",N,[(0,a.bF)(F,{modelValue:q.mark,"onUpdate:modelValue":t[0]||(t[0]=e=>q.mark=e),class:"account__cell",maxlength:50,onBlur:g},null,8,["modelValue"]),(0,a.bF)(K,{modelValue:q.type,"onUpdate:modelValue":t[1]||(t[1]=e=>q.type=e),options:m,class:"account__cell",onChange:g},null,8,["modelValue"]),(0,a.bF)(F,{modelValue:q.login,"onUpdate:modelValue":t[2]||(t[2]=e=>q.login=e),required:f.login,class:(0,u.C4)(["account__cell",{"account__cell--double-width":!h.value}]),onBlur:g},null,8,["modelValue","required","class"]),h.value?((0,a.uX)(),(0,a.Wv)(F,{key:0,modelValue:q.password,"onUpdate:modelValue":t[3]||(t[3]=e=>q.password=e),required:f.password,type:"password",class:"account__cell",onBlur:g},null,8,["modelValue","required"])):(0,a.Q3)("",!0),(0,a.bF)(d,{title:"Удалить учетную запись",onClick:w},{default:(0,a.k6)((()=>[(0,a.bF)(U)])),_:1})]))}});const J=P;var $=J;const G={class:"main-form"},Y={class:"main-form__header"},ee={class:"main-form__hint"},te={class:"main-form__account-list-header"},le={key:0,class:"account-list"},ne={key:0},oe={key:1,class:"main-form__account-list-empty"},ae="Для указания нескольких меток для одной пары логин/пароль используйте разделитель ;";var ue=(0,a.pM)({__name:"MainForm",setup(e){const t=H(),l=["Метки","Тип записи","Логин","Пароль"],n=(0,r.KR)(null),o=(0,a.EW)((()=>t.formattedAccountList)),s=(0,a.EW)((()=>!!o.value.length||!!n.value)),c=(0,a.EW)((()=>!!n.value&&(!n.value.login||"local"===n.value.type&&!n.value.password))),i=(0,a.EW)((()=>o.value.some((e=>!e.login||"local"===e.type&&!e.password))||c.value)),p=(0,a.EW)((()=>c.value?"Необходимо завершить создание учётной записи":i.value?"Необходимо исправить данные учётной записи":"Добавить учетную запись")),v=()=>{n.value={id:Date.now(),mark:"",type:"local",login:"",password:""}},m=()=>{n.value=null},f=e=>{t.deleteAccount(e)};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",G,[(0,a.Lk)("div",Y,[t[0]||(t[0]=(0,a.Lk)("h2",{class:"main-form__title"},"Учетные записи",-1)),(0,a.bF)(d,{disabled:i.value,title:p.value,onClick:v},{default:(0,a.k6)((()=>[(0,a.bF)(q)])),_:1},8,["disabled","title"])]),(0,a.Lk)("div",ee,[(0,a.bF)(b,{class:"main-form__help-icon"}),(0,a.Lk)("p",{class:"main-form__hint-text"},(0,u.v_)(ae))]),(0,a.Lk)("ul",te,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(l,((e,t)=>(0,a.Lk)("li",{key:t},(0,u.v_)(e),1))),64))]),s.value?((0,a.uX)(),(0,a.CE)("ul",le,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.value,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"account-item"},[(0,a.bF)($,(0,a.v6)({ref_for:!0},e,{onDeleteAccount:t=>f(e.id)}),null,16,["onDeleteAccount"])])))),128)),n.value?((0,a.uX)(),(0,a.CE)("li",ne,[(0,a.bF)($,(0,a.v6)(n.value,{onCreateComplete:m,onDeleteAccount:m}),null,16)])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("p",oe," Учетные записи отсутствуют "))]))}});const re=ue;var se=re,ce=(0,a.pM)({__name:"App",setup(e){return(e,t)=>((0,a.uX)(),(0,a.Wv)(se))}});const ie=ce;var de=ie;const pe=(0,n.Ef)(de),ve=(0,o.Ey)();pe.use(ve),pe.mount("#app")}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,l),a.exports}l.m=e,function(){var e=[];l.O=function(t,n,o,a){if(!n){var u=1/0;for(i=0;i<e.length;i++){n=e[i][0],o=e[i][1],a=e[i][2];for(var r=!0,s=0;s<n.length;s++)(!1&a||u>=a)&&Object.keys(l.O).every((function(e){return l.O[e](n[s])}))?n.splice(s--,1):(r=!1,a<u&&(u=a));if(r){e.splice(i--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[n,o,a]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,u=n[0],r=n[1],s=n[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(o in r)l.o(r,o)&&(l.m[o]=r[o]);if(s)var i=s(l)}for(t&&t(n);c<u.length;c++)a=u[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(i)},n=self["webpackChunkaccount_list"]=self["webpackChunkaccount_list"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(2306)}));n=l.O(n)})();
//# sourceMappingURL=app.4e9e4871.js.map